

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magma Installation for ROCm &#8212; ROCm Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=18134341461cad4d0490f915e28f299975ce52b8" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/rocm_header.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/rocm_footer.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script src="../../_static/code_word_breaks.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'how_to/magma_install/magma_install';</script>
    <link rel="shortcut icon" href="https://www.amd.com/themes/custom/amd/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="PyTorch Installation for ROCm" href="../pytorch_install/pytorch_install.html" />
    <link rel="prev" title="Docker GPU Isolation Techniques" href="../docker_gpu_isolation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar"><div class="rocm-header">
    <div class="rocm-header-buttons">
        <a href="https://www.amd.com" class="rocm-header-link">
            <img id="amd-logo" alt="Advanced Micro Devices, Inc." src="../../amd-header-logo.svg"></img>
            <div class="glow-wrap">
                <i class="glow"></i>
            </div>
        </a>
        <a href="http://github.com/RadeonOpenCompute/ROCm" class="rocm-header-link">
            <div class="rocm-link-box">
                <p>GitHub</p>
            </div>
            <div class="glow-wrap">
                <i class="glow"></i>
            </div>
        </a>
        <a href="https://github.com/RadeonOpenCompute/ROCm/discussions" class="rocm-header-link">
            <div class="rocm-link-box">
                <p>Community</p>
            </div>
            <div class="glow-wrap">
                <i class="glow"></i>
            </div>
        </a>
        <a href="https://github.com/RadeonOpenCompute/ROCm/issues/new" class="rocm-header-link">
            <div class="rocm-link-box">
                <p>Support</p>
            </div>
            <div class="glow-wrap">
                <i class="glow"></i>
            </div>
        </a>
        <a href="https://www.amd.com/en/technologies/infinity-hub" class="rocm-header-link">
            <div class="rocm-link-box">
                <p>Infinity Hub</p>
            </div>
            <div class="glow-wrap">
                <i class="glow"></i>
            </div>
        </a>
        <a href="https://rocm.amd.com" class="rocm-header-link rocm-header-last" id="rocm-link">
            <img id="rocm-logo" alt="ROCm logo" src="../../rocm-on.png"></img>
            <div class="glow-wrap">
                <i class="glow"></i>
            </div>
        </a>
    </div>
</div>
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    <p class="title logo__title">ROCm Documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../release.html">Release Notes</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../release/gpu_os_support.html">GPU and OS Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../release/licensing.html">Licensing Terms</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/RadeonOpenCompute/ROCm/labels/Verified%20Issue">Known Issues</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../release/compatibility.html">Compatibility</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/framework_compatiblity/framework_compatiblity.html">Framework Compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../reference/kernel_userspace_compatibility/kernel_userspace_comp.html">Kernel Userspace Compatiblity Reference</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../deploy.html">Deploy</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../quick_start.html">Quick Start (Linux)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hip_sdk_install_win/hip_sdk_install_win.html">Quick Start (Windows)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deploy/docker.html">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deploy/install.html">Basic Installation Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deploy/multi.html">Multi-ROCm Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deploy/spack.html">spack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../deploy/build_source.html">Build from Source</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">APIs and Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/hip.html">HIP</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://advanced-micro-devices-hip-saad.readthedocs-hosted.com/en/wip-sphinx/">HIP Runtime API</a></li>
<li class="toctree-l2"><a class="reference external" href="https://advanced-micro-devices-demo--737.com.readthedocs.build/projects/HIPIFY/en/737/">HIPify - Port Your Code</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/gpu_libraries/math.html">Math Libraries</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/gpu_libraries/blas.html">Matrix Multiplication</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/rocBLAS/en/master/">rocBLAS</a></li>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/hipBLAS/en/master/">hipBLAS</a></li>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/rocWMMA/en/master/">rocWMMA</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/gpu_libraries/fft.html">Fast Fourier Transforms</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/rocFFT/en/master/">rocFFT</a></li>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/hipFFT/en/master/">hipFFT</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/gpu_libraries/rand.html">Random Numbers</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/rocRAND/en/master/">rocRAND</a></li>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/hipRAND/en/master/">hipRAND</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/gpu_libraries/solver.html">Linear Solvers</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/rocSOLVER/en/master/">rocSOLVER</a></li>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/hipSOLVER/en/master/">hipSOLVER</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/gpu_libraries/sparse.html">Sparse Matrix Solvers</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/rocSPARSE/en/master/">rocSPARSE</a></li>
<li class="toctree-l4"><a class="reference external" href="https://rocmdocs.amd.com/projects/hipSPARSE/en/master/">hipSPARSE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/gpu_libraries/c%2B%2B_primitives.html">C++ Primitives</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference external" href="https://rocmdocs.amd.com/projects/rocPRIM/en/master/">rocPRIM</a></li>
<li class="toctree-l3"><a class="reference external" href="https://rocmdocs.amd.com/projects/hipCUB/en/master/">hipCUB</a></li>
<li class="toctree-l3"><a class="reference external" href="https://rocmdocs.amd.com/projects/rocThrust/en/master/">rocThrust</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/gpu_libraries/communication.html">Communication Libraries</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference external" href="https://rocmdocs.amd.com/projects/RCCL/en/master/">RCCL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="https://rocmsoftwareplatform.github.io/MIOpen/doc/html/releasenotes.html">MIOpen - Machine Intelligence</a></li>
<li class="toctree-l2"><a class="reference external" href="https://rocmsoftwareplatform.github.io/AMDMIGraphX/doc/html/">MIGraphX- Graph Optimization</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/computer_vision.html">Computer Vision</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference external" href="https://rocmdocs.amd.com/projects/MIVisionX/en/master/">MIVisionX</a></li>
<li class="toctree-l3"><a class="reference external" href="https://rocmdocs.amd.com/projects/rocAL/en/master/">rocAL</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/openmp/openmp.html">OpenMP</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/compilers.html">Compilers and Tools</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../reference/rocmcc/rocmcc.html">ROCmCC</a></li>
<li class="toctree-l2"><a class="reference external" href="http://profiler">ROCGDB</a></li>
<li class="toctree-l2"><a class="reference external" href="http://profiler">rocprof</a></li>
<li class="toctree-l2"><a class="reference external" href="http://profiler">roctracer</a></li>
<li class="toctree-l2"><a class="reference external" href="http://profiler">ROCdbgapi</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/management_tools.html">Management Tools</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference external" href="http://smi">rocmsmi</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/gpu_arch.html">GPU Architectures</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Understand ROCm</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../isv_deployment_win.html">ISV Deployment Guide (Windows)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../understand/deep_learning/deep_learning.html">Deep Learning Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../understand/cmake_packages.html">Using CMake</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">How to Guides</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../docker_gpu_isolation.html">Docker GPU Isolation Techniques</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Magma Installation for ROCm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pytorch_install/pytorch_install.html">PyTorch Installation for ROCm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensorflow_install/tensorflow_install.html">TensorFlow Installation for ROCm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system_debugging.html">System Debugging Guide</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://github.com/">rocm-examples</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../examples/ai_ml_inferencing.html">AI/ML/Inferencing</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../examples/inception_casestudy/inception_casestudy.html">Inception V3 with PyTorch</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About ROCm Documentation</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Magma Installation for ROCm</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">



<button onclick="toggleFullScreen()"
  class="btn btn-sm"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<a href="https://github.com/RadeonOpenCompute/ROCm/edit/master/docs/sphinx/how_to/magma_install/magma_install.md" target="_blank"
   class="btn btn-sm"
   title="Edit onGitHub"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/how_to/magma_install/magma_install.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Magma Installation for ROCm</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pytorch">PyTorch</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-pytorch">Installing PyTorch</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-1-recommended-use-docker-image-with-pytorch-pre-installed">Option 1 (Recommended): Use Docker Image with PyTorch Pre-installed</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-2-install-pytorch-using-wheels-package">Option 2: Install PyTorch Using Wheels Package</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-3-install-pytorch-using-pytorch-rocm-base-docker-image">Option 3: Install PyTorch Using PyTorch ROCm Base Docker Image</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-4-install-using-pytorch-upstream-docker-file">Option 4: Install Using PyTorch Upstream Docker File</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-the-pytorch-installation">Test the PyTorch Installation</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="section" id="magma-installation-for-rocm">
<h1>Magma Installation for ROCm<a class="headerlink" href="#magma-installation-for-rocm" title="Permalink to this headline">#</a></h1>
<p>Pull content from
<a class="reference external" href="https://docs.amd.com/bundle/ROCm-Deep-Learning-Guide-v5.4.1/page/Frameworks_Installation.html">https://docs.amd.com/bundle/ROCm-Deep-Learning-Guide-v5.4.1/page/Frameworks_Installation.html</a></p>
<p>The following sections cover the different framework installations for ROCm and
Deep Learning applications. Figure 5 provides the sequential flow for the use of
each framework. Refer to the ROCm Compatible Frameworks Release Notes for each
framework’s most current release notes at
<span class="xref myst">/bundle/ROCm-Compatible-Frameworks-Release-Notes/page/Framework_Release_Notes.html</span>.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-center head"><p><img alt="Figure 5" src="../../_images/image.005.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><b>Figure 5. ROCm Compatible Frameworks Flowchart</b></p></td>
</tr>
</tbody>
</table>
<div class="section" id="pytorch">
<h2>PyTorch<a class="headerlink" href="#pytorch" title="Permalink to this headline">#</a></h2>
<p>PyTorch is an open source Machine Learning Python library, primarily differentiated by Tensor computing with GPU acceleration and a type-based automatic differentiation. Other advanced features include:</p>
<ul class="simple">
<li><p>Support for distributed training</p></li>
<li><p>Native ONNX support</p></li>
<li><p>C++ frontend</p></li>
<li><p>The ability to deploy at scale using TorchServe</p></li>
<li><p>A production-ready deployment mechanism through TorchScript</p></li>
</ul>
<div class="section" id="installing-pytorch">
<h3>Installing PyTorch<a class="headerlink" href="#installing-pytorch" title="Permalink to this headline">#</a></h3>
<p>To install ROCm on bare metal, refer to the section <a class="reference external" href="https://docs.amd.com/bundle/ROCm-Deep-Learning-Guide-v5.4-/page/Prerequisites.html#d2999e60">ROCm Installation</a>. The recommended option to get a PyTorch environment is through Docker. However, installing the PyTorch wheels package on bare metal is also supported.</p>
<div class="section" id="option-1-recommended-use-docker-image-with-pytorch-pre-installed">
<h4>Option 1 (Recommended): Use Docker Image with PyTorch Pre-installed<a class="headerlink" href="#option-1-recommended-use-docker-image-with-pytorch-pre-installed" title="Permalink to this headline">#</a></h4>
<p>Using Docker gives you portability and access to a prebuilt Docker container that has been rigorously tested within AMD. This might also save on the compilation time and should perform as it did when tested without facing potential installation issues.
Follow these steps:</p>
<ol class="arabic simple">
<li><p>Pull the latest public PyTorch Docker image.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">pull</span> <span class="n">rocm</span><span class="o">/</span><span class="n">pytorch</span><span class="p">:</span><span class="n">latest</span>
</pre></div>
</div>
<p>Optionally, you may download a specific and supported configuration with different user-space ROCm versions, PyTorch versions, and supported operating systems. To download the PyTorch Docker image, refer to <a class="reference external" href="https://hub.docker.com/r/rocm/pytorch">https://hub.docker.com/r/rocm/pytorch</a>.</p>
<ol class="arabic simple" start="2">
<li><p>Start a Docker container using the downloaded image.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">--</span><span class="n">cap</span><span class="o">-</span><span class="n">add</span><span class="o">=</span><span class="n">SYS_PTRACE</span> <span class="o">--</span><span class="n">security</span><span class="o">-</span><span class="n">opt</span> <span class="n">seccomp</span><span class="o">=</span><span class="n">unconfined</span> <span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">kfd</span> <span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">dri</span> <span class="o">--</span><span class="n">group</span><span class="o">-</span><span class="n">add</span> <span class="n">video</span> <span class="o">--</span><span class="n">ipc</span><span class="o">=</span><span class="n">host</span> <span class="o">--</span><span class="n">shm</span><span class="o">-</span><span class="n">size</span> <span class="mi">8</span><span class="n">G</span> <span class="n">rocm</span><span class="o">/</span><span class="n">pytorch</span><span class="p">:</span><span class="n">latest</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will automatically download the image if it does not exist on the host. You can also pass the -v argument to mount any data directories from the host onto the container.</p>
</div>
</div>
<div class="section" id="option-2-install-pytorch-using-wheels-package">
<h4>Option 2: Install PyTorch Using Wheels Package<a class="headerlink" href="#option-2-install-pytorch-using-wheels-package" title="Permalink to this headline">#</a></h4>
<p>PyTorch supports the ROCm platform by providing tested wheels packages. To access this feature, refer to <a class="reference external" href="https://pytorch.org/get-started/locally/">https://pytorch.org/get-started/locally/</a> and choose the “ROCm” compute platform. Figure 6 is a matrix from <a class="reference external" href="http://pytroch.org">pytroch.org</a> that illustrates the installation compatibility between ROCm and the PyTorch build.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-center head"><p><img alt="Figure 6" src="../../_images/image.006.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><b>Figure 6.  Installation Matrix from Pytorch.org</b></p></td>
</tr>
</tbody>
</table>
<p>To install PyTorch using the wheels package, follow these installation steps:</p>
<ol class="arabic simple">
<li><p>Choose one of the following options:</p></li>
</ol>
<p>a. Obtain a base Docker image with the correct user-space ROCm version installed from <a class="reference external" href="https://hub.docker.com/repository/docker/rocm/dev-ubuntu-20.04">https://hub.docker.com/repository/docker/rocm/dev-ubuntu-20.04</a>.</p>
<p>or</p>
<p>b.  Download a base OS Docker image and install ROCm following the installation directions in the section <a class="reference external" href="https://docs.amd.com/bundle/ROCm-Deep-Learning-Guide-v5.4-/page/Prerequisites.html#d2999e60">Installation</a>. ROCm 5.2 is installed in this example, as supported by the installation matrix from <a class="reference external" href="http://pytorch.org">pytorch.org</a>.</p>
<p>or</p>
<p>c.  Install on bare metal. Skip to Step 3.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">kfd</span> <span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">dri</span> <span class="o">--</span><span class="n">group</span><span class="o">-</span><span class="n">add</span> <span class="n">video</span> <span class="n">rocm</span><span class="o">/</span><span class="n">dev</span><span class="o">-</span><span class="n">ubuntu</span><span class="o">-</span><span class="mf">20.04</span><span class="p">:</span><span class="n">latest</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Install any dependencies needed for installing the wheels package.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">libjpeg</span><span class="o">-</span><span class="n">dev</span> <span class="n">python3</span><span class="o">-</span><span class="n">dev</span>
<span class="n">pip3</span> <span class="n">install</span> <span class="n">wheel</span> <span class="n">setuptools</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Install torch, torchvision, and torchaudio as specified by the installation matrix.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ROCm 5.2 PyTorch wheel in the command below is shown for reference.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">pre</span> <span class="n">torch</span> <span class="n">torchvision</span> <span class="n">torchaudio</span> <span class="o">--</span><span class="n">extra</span><span class="o">-</span><span class="n">index</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">download</span><span class="o">.</span><span class="n">pytorch</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">whl</span><span class="o">/</span><span class="n">nightly</span><span class="o">/</span><span class="n">rocm5</span><span class="mf">.2</span><span class="o">/</span>
</pre></div>
</div>
</div>
<div class="section" id="option-3-install-pytorch-using-pytorch-rocm-base-docker-image">
<h4>Option 3: Install PyTorch Using PyTorch ROCm Base Docker Image<a class="headerlink" href="#option-3-install-pytorch-using-pytorch-rocm-base-docker-image" title="Permalink to this headline">#</a></h4>
<p>A prebuilt base Docker image is used to build PyTorch in this option. The base Docker has all dependencies installed, including:</p>
<ul class="simple">
<li><p>ROCm</p></li>
<li><p>Torchvision</p></li>
<li><p>Conda packages</p></li>
<li><p>Compiler toolchain
Additionally, a particular environment flag (BUILD_ENVIRONMENT) is set, and the build scripts utilize that to determine the build environment configuration.</p></li>
</ul>
<p>Follow these steps:</p>
<ol class="arabic simple">
<li><p>Obtain the Docker image.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">pull</span> <span class="n">rocm</span><span class="o">/</span><span class="n">pytorch</span><span class="p">:</span><span class="n">latest</span><span class="o">-</span><span class="n">base</span>
</pre></div>
</div>
<p>The above will download the base container, which does not contain PyTorch.</p>
<ol class="arabic simple" start="2">
<li><p>Start a Docker container using the image.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">--</span><span class="n">cap</span><span class="o">-</span><span class="n">add</span><span class="o">=</span><span class="n">SYS_PTRACE</span> <span class="o">--</span><span class="n">security</span><span class="o">-</span><span class="n">opt</span> <span class="n">seccomp</span><span class="o">=</span><span class="n">unconfined</span> <span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">kfd</span> <span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">dri</span> <span class="o">--</span><span class="n">group</span><span class="o">-</span><span class="n">add</span> <span class="n">video</span> <span class="o">--</span><span class="n">ipc</span><span class="o">=</span><span class="n">host</span> <span class="o">--</span><span class="n">shm</span><span class="o">-</span><span class="n">size</span> <span class="mi">8</span><span class="n">G</span> <span class="n">rocm</span><span class="o">/</span><span class="n">pytorch</span><span class="p">:</span><span class="n">latest</span><span class="o">-</span><span class="n">base</span>
</pre></div>
</div>
<p>You can also pass the -v argument to mount any data directories from the host onto the container.</p>
<ol class="arabic simple" start="3">
<li><p>Clone the PyTorch repository.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd ~
git clone https://github.com/pytorch/pytorch.git
cd pytorch
git submodule update --init –recursive
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Build PyTorch for ROCm.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default in the rocm/pytorch:latest-base, PyTorch builds for these architectures simultaneously:</p>
<ul class="simple">
<li><p>gfx900</p></li>
<li><p>gfx906</p></li>
<li><p>gfx908</p></li>
<li><p>gfx90a</p></li>
<li><p>gfx1030</p></li>
</ul>
</div>
<ol class="arabic simple" start="5">
<li><p>To determine your AMD uarch, run:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rocminfo</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">gfx</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>In the event you want to compile only for your uarch, use:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PYTORCH_ROCM_ARCH</span><span class="o">=&lt;</span><span class="n">uarch</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>&lt;uarch&gt; is the architecture reported by the rocminfo command. is the architecture reported by the rocminfo command.</p>
<ol class="arabic simple" start="7">
<li><p>Build PyTorch using the following command:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./.</span><span class="n">jenkins</span><span class="o">/</span><span class="n">pytorch</span><span class="o">/</span><span class="n">build</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>This will first convert PyTorch sources for HIP compatibility and build the PyTorch framework.</p>
<ol class="arabic simple" start="8">
<li><p>Alternatively, build PyTorch by issuing the following commands:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>python3 tools/amd_build/build_amd.py
USE_ROCM=1 MAX_JOBS=4 python3 setup.py install ––user
</pre></div>
</div>
</div>
<div class="section" id="option-4-install-using-pytorch-upstream-docker-file">
<h4>Option 4: Install Using PyTorch Upstream Docker File<a class="headerlink" href="#option-4-install-using-pytorch-upstream-docker-file" title="Permalink to this headline">#</a></h4>
<p>Instead of using a prebuilt base Docker image, you can build a custom base Docker image using scripts from the PyTorch repository. This will utilize a standard Docker image from operating system maintainers and install all the dependencies required to build PyTorch, including</p>
<ul class="simple">
<li><p>ROCm</p></li>
<li><p>Torchvision</p></li>
<li><p>Conda packages</p></li>
<li><p>Compiler toolchain</p></li>
</ul>
<p>Follow these steps:</p>
<ol class="arabic simple">
<li><p>Clone the PyTorch repository on the host.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cd ~
git clone https://github.com/pytorch/pytorch.git
cd pytorch
git submodule update --init –recursive
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Build the PyTorch Docker image.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span><span class="o">.</span><span class="n">circleci</span><span class="o">/</span><span class="n">docker</span>
<span class="o">./</span><span class="n">build</span><span class="o">.</span><span class="n">sh</span> <span class="n">pytorch</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">bionic</span><span class="o">-</span><span class="n">rocm</span><span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;-</span><span class="n">py3</span><span class="mf">.7</span> 
<span class="c1"># eg. ./build.sh pytorch-linux-bionic-rocm3.10-py3.7</span>
</pre></div>
</div>
<p>This should be complete with a message “Successfully build &lt;image_id&gt;.”</p>
<ol class="arabic simple" start="3">
<li><p>Start a Docker container using the image:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">--</span><span class="n">cap</span><span class="o">-</span><span class="n">add</span><span class="o">=</span><span class="n">SYS_PTRACE</span> <span class="o">--</span><span class="n">security</span><span class="o">-</span><span class="n">opt</span> 
<span class="n">seccomp</span><span class="o">=</span><span class="n">unconfined</span> <span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">kfd</span> <span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">dri</span> <span class="o">--</span><span class="n">group</span><span class="o">-</span><span class="n">add</span> 
<span class="n">video</span> <span class="o">--</span><span class="n">ipc</span><span class="o">=</span><span class="n">host</span> <span class="o">--</span><span class="n">shm</span><span class="o">-</span><span class="n">size</span> <span class="mi">8</span><span class="n">G</span> <span class="o">&lt;</span><span class="n">image_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>You can also pass -v argument to mount any data directories from the host onto the container.</p>
<ol class="arabic simple" start="4">
<li><p>Clone the PyTorch repository.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">pytorch</span><span class="o">/</span><span class="n">pytorch</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">pytorch</span>
<span class="n">git</span> <span class="n">submodule</span> <span class="n">update</span> <span class="o">--</span><span class="n">init</span> <span class="o">--</span><span class="n">recursive</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Build PyTorch for ROCm.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default in the rocm/pytorch:latest-base, PyTorch builds for these architectures simultaneously:</p>
<ul class="simple">
<li><p>gfx900</p></li>
<li><p>gfx906</p></li>
<li><p>gfx908</p></li>
<li><p>gfx90a</p></li>
<li><p>gfx1030</p></li>
</ul>
</div>
<ol class="arabic simple" start="6">
<li><p>To determine your AMD uarch, run:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rocminfo</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">gfx</span>
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p>If you want to compile only for your uarch:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">PYTORCH_ROCM_ARCH</span><span class="o">=&lt;</span><span class="n">uarch</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>&lt;uarch&gt; is the architecture reported by the rocminfo command.</p>
<ol class="arabic simple" start="8">
<li><p>Build PyTorch using:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./.</span><span class="n">jenkins</span><span class="o">/</span><span class="n">pytorch</span><span class="o">/</span><span class="n">build</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>This will first convert PyTorch sources to be HIP compatible and then build the PyTorch framework.</p>
<p>Alternatively, build PyTorch by issuing the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">tools</span><span class="o">/</span><span class="n">amd</span>\<span class="n">_build</span><span class="o">/</span><span class="n">build</span>\<span class="n">_amd</span><span class="o">.</span><span class="n">py</span>
<span class="n">USE</span>\<span class="n">_ROCM</span><span class="o">=</span><span class="mi">1</span> <span class="n">MAX</span>\<span class="n">_JOBS</span><span class="o">=</span><span class="mi">4</span> <span class="n">python3</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="test-the-pytorch-installation">
<h3>Test the PyTorch Installation<a class="headerlink" href="#test-the-pytorch-installation" title="Permalink to this headline">#</a></h3>
<p>You can use PyTorch unit tests to validate a PyTorch installation. If using a prebuilt PyTorch Docker image from AMD ROCm DockerHub or installing an official wheels package, these tests are already run on those configurations. Alternatively, you can manually run the unit tests to validate the PyTorch installation fully.</p>
<p>Follow these steps:</p>
<ol class="arabic simple">
<li><p>Test if PyTorch is installed and accessible by importing the torch package in Python.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not run in the PyTorch git folder.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;import torch&#39;</span> <span class="mi">2</span><span class="o">&gt;</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">null</span> <span class="o">&amp;&amp;</span> <span class="n">echo</span> <span class="s1">&#39;Success&#39;</span> <span class="o">||</span> <span class="n">echo</span> <span class="s1">&#39;Failure&#39;</span>
</pre></div>
</div>
</div>
</div>
</div>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../docker_gpu_isolation.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Docker GPU Isolation Techniques</p>
      </div>
    </a>
    <a class="right-next"
       href="../pytorch_install/pytorch_install.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">PyTorch Installation for ROCm</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pytorch">PyTorch</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-pytorch">Installing PyTorch</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-1-recommended-use-docker-image-with-pytorch-pre-installed">Option 1 (Recommended): Use Docker Image with PyTorch Pre-installed</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-2-install-pytorch-using-wheels-package">Option 2: Install PyTorch Using Wheels Package</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-3-install-pytorch-using-pytorch-rocm-base-docker-image">Option 3: Install PyTorch Using PyTorch ROCm Base Docker Image</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#option-4-install-using-pytorch-upstream-docker-file">Option 4: Install Using PyTorch Upstream Docker File</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-the-pytorch-installation">Test the PyTorch Installation</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner"><p>
  </p></div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>
<div class="rocm-footer"><!-- Copied from pydata-sphinx-theme --><ul id="navbar-icon-links"
    class="navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="http://www.github.com/AMD" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="http://www.facebook.com/amd" title="Facebook" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-facebook-f"></i></span>
            <label class="sr-only">Facebook</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="http://www.twitter.com/amd" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="http://www.instagram.com/amd" title="Instagram" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-instagram"></i></span>
            <label class="sr-only">Instagram</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="http://www.linkedin.com/company/amd" title="LinkedIn" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-linkedin"></i></span>
            <label class="sr-only">LinkedIn</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.amd.com/en/corporate/subscriptions" title="Mail" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa fa-envelope"></i></span>
            <label class="sr-only">Mail</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.youtube.com/user/amd?sub_confirmation=1" title="Youtube" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-youtube"></i></span>
            <label class="sr-only">Youtube</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.twitch.tv/amd" title="Twitch" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-twitch"></i></span>
            <label class="sr-only">Twitch</label></a>
        </li></ul>
  <div class="copyright">
    
      © Copyright 2022-2023, Advanced Micro Devices Ltd..
      <br/>
    
  </div>

    <div class="rocm-footer-links">
        <ul>
            <li><a href="https://www.amd.com/en/corporate/copyright">Terms and Conditions (AMD)</a></li>
            <li><a href="#">Terms and Conditions (ROCm)</a></li>
            <li><a href="https://www.amd.com/en/corporate/privacy">Privacy</a></li>
            <li><a href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a></li>
            <li><a href="https://www.amd.com/en/corporate/trademarks">Trademarks</a></li>
            <li><a href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a></li>
            <li><a href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a></li>
            <li><a href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a></li>
        </ul>
    </div>
</div>

<div id="rdc-watermark-container">
    <img id="rdc-watermark" src="../../rdc-watermark.svg" alt="DRAFT watermark"/>
</div>
  </body>
</html>